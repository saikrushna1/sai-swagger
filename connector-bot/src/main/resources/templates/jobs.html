<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout">
<body>
	<section layout:fragment="content">
		<div class="content-wrapper">
			<!-- 			<div class="row" id="proBanner">
				<div class="col-12">
					<span class="d-flex align-items-center purchase-popup pb-0">
						<a href="#" target="_blank"
						class="btn download-button purchase-button ml-auto">Add New
							Project</a>
					</span>
				</div>
			</div> -->

			<div class="page-header">
				<h3 class="page-title">
					<span class="page-title-icon bg-gradient-info text-white mr-2">
						<i class="mdi mdi-home"></i>
					</span> Monitor
				</h3>

			</div>


			<div class="row">
				<div class="col-12 grid-margin">
					<div class="card">
						<div class="card-body">
							<div class="table-responsive">
								<table id="jobs" class="table table-striped table-bordered"
									style="width: 100%">
									<thead>
										<tr>
											<th>Suite Name</th>
											<th>Script Name</th>
											<th>Status</th>
											<th>Status Category</th>
											<th>Execution Date</th>
											<!-- <th>Execution Duration</th> -->
											<th>Agent</th>
											<th>Report</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="job : ${jobs}">
											<td><span th:switch="${job.status}"> <span
													th:case="'Success'"><i class="fa fa-check-circle"
														aria-hidden="true"
														style="margin-right: 5px; color: #008000bf; font-size: 14px;"></i></span>
													<span th:case="'Submitted'"><i
														class="fa fa-check-circle" aria-hidden="true"
														style="margin-right: 5px; color: #ff8d00; font-size: 14px;"></i></span>
													<span th:case="'Inprocess'"><i
														class="fa fa-refresh fa-spin" aria-hidden="true"
														style="margin-right: 5px; color: #ff8d00; font-size: 14px;"></i></span>
													<span th:case="'RetryInprogress'"><i
														class="fa fa-refresh fa-spin" aria-hidden="true"
														style="margin-right: 5px; color: #ff8d00; font-size: 14px;"></i></span>
													<span th:case="*"> <i th:title="${job.statusCause}"
														class="fa fa-exclamation-circle" aria-hidden="true"
														style="margin-right: 5px; color: red; font-size: 14px;"></i>
												</span>
											</span><span th:text="${job.suiteName}">suiteName</span></td>
											
											<td><span
												th:text="${#strings.arraySplit(job.scriptFileName, '.')[0]}">scriptFileName</span></td>
											
											<td><span th:switch="${job.status}"> <span
													th:case="'RetryInprogress'"> Retry<span
														th:text="${job.retryCount}-1">Status</span> - InProgress
												</span> <span th:case="'Inprocess'"> In-Progress </span> <span
													th:case="*"> <span th:text="${job.status}">Status</span>
												</span>
											</span></td>
											<td style="word-break: break-all;"><span
												th:text="${job.statusCause}">statusCause</span></td>
											<td><span th:text="${job.createdAt}">CreatedAt</span></td>
											<!-- <td><span th:text="${job.updatedAt}">UpdatedAt</span></td> -->
											<td><span th:text="${job.agentIp}">Show Report</span></td>
											<td style="text-align: center;"><a th:href="@{/ui/suitesReportDetails/__${job.suiteName}__}" th:target="_blank"><i class="fa fa-history" aria-hidden="true"></i></a></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</body>
</html>